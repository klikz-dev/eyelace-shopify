class MasonryGrid extends HTMLElement{constructor(){super(),this.masonry=!1}connectedCallback(){theme.utils.libraryLoader("masonry",theme.libraries.masonry,()=>{this.loadMasonry(),this.resizeListener()})}loadMasonry(){var t;"small"!==theme.mqs.current_window&&window.Masonry&&(t="."+this.childNodes[0].classList[0],this.masonry=new Masonry(this,{itemSelector:t,percentPosition:!0,horizontalOrder:!0,columnWidth:t,gutter:this.dataset.gap?parseInt(this.dataset.gap):0,transitionDuration:"0.2s",initLayout:!1}),this.masonry.once("layoutComplete",()=>{window.trigger("theme:masonry:layoutComplete"),this.setAttribute("data-masonry-loaded",!0)}),this.masonry.layout())}resizeListener(){window.on("theme:mqs:updated",()=>{"small"===theme.mqs.current_window||this.masonry?"small"===theme.mqs.current_window&&this.masonry&&this.unloadMasonry():this.loadMasonry()})}unloadMasonry(){this.setAttribute("data-masonry-loaded",!1),this.masonry.destroy(),this.masonry=!1}}const masonryGridEl=customElements.get("masonry-grid-root");masonryGridEl||customElements.define("masonry-grid-root",MasonryGrid);